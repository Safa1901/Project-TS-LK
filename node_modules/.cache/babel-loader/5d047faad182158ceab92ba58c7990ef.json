{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anastasia\\\\Desktop\\\\NevaLK\\\\src\\\\components\\\\Pages\\\\Account\\\\Profile.tsx\";\nimport React, { useReducer } from 'react'; //styles\n\nimport styles from './styles/profile.module.scss'; //components\n\nimport { InputText } from 'templates/Forms/InputText'; //@ts-ignore\n\nimport { NativeInputPhone } from 'templates/Forms/InputPhone';\nimport { ButtonBase } from 'templates/Buttons/Buttons';\nexport const Profile = React.memo(({}) => {\n  const initialState = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: ''\n  };\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'ON_CHANGE':\n        return { ...state,\n          [action.name]: action.value\n        };\n    }\n  };\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const handleChange = (name, value) => dispatch({\n    type: 'ON_CHANGE',\n    name,\n    value\n  }); //utils\n\n\n  const beforeMaskedValueChange = (newState, oldState, userInput) => {\n    let {\n      value\n    } = newState;\n    let selection = newState.selection;\n    let cursorPosition = selection ? selection.start : null;\n\n    if (value.endsWith('-') && userInput !== '-' && !state.phone.endsWith('-') || value.endsWith(' ') && userInput !== ' ' && !state.phone.endsWith(' ')) {\n      if (cursorPosition === value.length) {\n        cursorPosition--;\n        selection = {\n          start: cursorPosition,\n          end: cursorPosition\n        };\n      }\n\n      value = value.slice(0, -1);\n    }\n\n    return {\n      value,\n      selection\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root__form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    type: \"text\",\n    title: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n    placeholder: \"\\u0418\\u0432\\u0430\\u043D\\u043E\\u0432\",\n    name: \"lastName\",\n    value: state.lastName,\n    onChange: event => handleChange(event.target.name, event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(InputText, {\n    type: \"text\",\n    title: \"\\u0418\\u043C\\u044F\",\n    placeholder: \"\\u0418\\u0432\\u0430\\u043D\",\n    name: \"firstName\",\n    value: state.firstName,\n    onChange: event => handleChange(event.target.name, event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(InputText, {\n    type: \"text\",\n    title: \"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\",\n    placeholder: \"ivanov@ya.ru\",\n    name: \"email\",\n    value: state.email,\n    onChange: event => handleChange(event.target.name, event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(NativeInputPhone, {\n    title: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\",\n    placeholder: \"+7 900 000-00-00\",\n    name: \"phone\",\n    value: state.phone,\n    onChange: event => handleChange('phone', event.target.value),\n    beforeMaskedValueChange: beforeMaskedValueChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root__form__actions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root__form__actions__wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonBase, {\n    text: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    disabled: true,\n    onClick: () => alert('click disabled profile action'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root__form__actions__wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonBase, {\n    text: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    disabled: false,\n    onClick: () => alert('click active profile action'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root__last_seen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0432\\u0445\\u043E\\u0434 \\u0431\\u044B\\u043B \\u0437\\u0430\\u0444\\u0438\\u043A\\u0441\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D 16.05.2020 12:24 \\u0441 IP-\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 185.15.171.151\"));\n}); //types","map":{"version":3,"sources":["C:/Users/anastasia/Desktop/NevaLK/src/components/Pages/Account/Profile.tsx"],"names":["React","useReducer","styles","InputText","NativeInputPhone","ButtonBase","Profile","memo","initialState","firstName","lastName","email","phone","reducer","state","action","type","name","value","dispatch","handleChange","beforeMaskedValueChange","newState","oldState","userInput","selection","cursorPosition","start","endsWith","length","end","slice","root","root__form","event","target","root__form__actions","root__form__actions__wrapper","alert","root__last_seen"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC,C,CACA;;AACA,OAAOC,MAAP,MAAmB,8BAAnB,C,CACA;;AACA,SAASC,SAAT,QAA0B,2BAA1B,C,CACA;;AACA,SAASC,gBAAT,QAAiC,4BAAjC;AACA,SAASC,UAAT,QAA2B,2BAA3B;AAEA,OAAO,MAAMC,OAAO,GAAGN,KAAK,CAACO,IAAN,CAAW,CAAC,EAAD,KAAQ;AACxC,QAAMC,YAAY,GAAG;AAAEC,IAAAA,SAAS,EAAE,EAAb;AAAiBC,IAAAA,QAAQ,EAAE,EAA3B;AAA+BC,IAAAA,KAAK,EAAE,EAAtC;AAA0CC,IAAAA,KAAK,EAAE;AAAjD,GAArB;;AACA,QAAMC,OAAO,GAAG,CAACC,KAAD,EAAgBC,MAAhB,KAA4C;AAC1D,YAAQA,MAAM,CAACC,IAAf;AACE,WAAK,WAAL;AACE,eAAO,EACL,GAAGF,KADE;AAEL,WAACC,MAAM,CAACE,IAAR,GAAeF,MAAM,CAACG;AAFjB,SAAP;AAFJ;AAOD,GARD;;AASA,QAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBlB,UAAU,CAACY,OAAD,EAAUL,YAAV,CAApC;;AACA,QAAMY,YAAY,GAAG,CAACH,IAAD,EAAeC,KAAf,KACnBC,QAAQ,CAAC;AAAEH,IAAAA,IAAI,EAAE,WAAR;AAAqBC,IAAAA,IAArB;AAA2BC,IAAAA;AAA3B,GAAD,CADV,CAZwC,CAcxC;;;AACA,QAAMG,uBAAuB,GAAG,CAC9BC,QAD8B,EAE9BC,QAF8B,EAG9BC,SAH8B,KAI3B;AACH,QAAI;AAAEN,MAAAA;AAAF,QAAYI,QAAhB;AACA,QAAIG,SAAS,GAAGH,QAAQ,CAACG,SAAzB;AACA,QAAIC,cAAc,GAAGD,SAAS,GAAGA,SAAS,CAACE,KAAb,GAAqB,IAAnD;;AACA,QACGT,KAAK,CAACU,QAAN,CAAe,GAAf,KACCJ,SAAS,KAAK,GADf,IAEC,CAACV,KAAK,CAACF,KAAN,CAAYgB,QAAZ,CAAqB,GAArB,CAFH,IAGCV,KAAK,CAACU,QAAN,CAAe,GAAf,KAAuBJ,SAAS,KAAK,GAArC,IAA4C,CAACV,KAAK,CAACF,KAAN,CAAYgB,QAAZ,CAAqB,GAArB,CAJhD,EAKE;AACA,UAAIF,cAAc,KAAKR,KAAK,CAACW,MAA7B,EAAqC;AACnCH,QAAAA,cAAc;AACdD,QAAAA,SAAS,GAAG;AAAEE,UAAAA,KAAK,EAAED,cAAT;AAAyBI,UAAAA,GAAG,EAAEJ;AAA9B,SAAZ;AACD;;AACDR,MAAAA,KAAK,GAAGA,KAAK,CAACa,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAR;AACD;;AACD,WAAO;AACLb,MAAAA,KADK;AAELO,MAAAA;AAFK,KAAP;AAID,GAxBD;;AAyBA,sBACE;AAAS,IAAA,SAAS,EAAEvB,MAAM,CAAC8B,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9B,MAAM,CAAC+B,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAC,4CAFR;AAGE,IAAA,WAAW,EAAC,sCAHd;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAEnB,KAAK,CAACJ,QALf;AAME,IAAA,QAAQ,EAAGwB,KAAD,IACRd,YAAY,CAACc,KAAK,CAACC,MAAN,CAAalB,IAAd,EAAoBiB,KAAK,CAACC,MAAN,CAAajB,KAAjC,CAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAWE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAC,oBAFR;AAGE,IAAA,WAAW,EAAC,0BAHd;AAIE,IAAA,IAAI,EAAC,WAJP;AAKE,IAAA,KAAK,EAAEJ,KAAK,CAACL,SALf;AAME,IAAA,QAAQ,EAAGyB,KAAD,IACRd,YAAY,CAACc,KAAK,CAACC,MAAN,CAAalB,IAAd,EAAoBiB,KAAK,CAACC,MAAN,CAAajB,KAAjC,CAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAqBE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAC,mGAFR;AAGE,IAAA,WAAW,EAAC,cAHd;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,KAAK,EAAEJ,KAAK,CAACH,KALf;AAME,IAAA,QAAQ,EAAGuB,KAAD,IACRd,YAAY,CAACc,KAAK,CAACC,MAAN,CAAalB,IAAd,EAAoBiB,KAAK,CAACC,MAAN,CAAajB,KAAjC,CAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,eA+BE,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAC,4CADR;AAEE,IAAA,WAAW,EAAC,kBAFd;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAEJ,KAAK,CAACF,KAJf;AAKE,IAAA,QAAQ,EAAGsB,KAAD,IAAgBd,YAAY,CAAC,OAAD,EAAUc,KAAK,CAACC,MAAN,CAAajB,KAAvB,CALxC;AAME,IAAA,uBAAuB,EAAEG,uBAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BF,eAuCE;AAAK,IAAA,SAAS,EAAEnB,MAAM,CAACkC,mBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAElC,MAAM,CAACmC,4BAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,mGADP;AAEE,IAAA,QAAQ,EAAE,IAFZ;AAGE,IAAA,OAAO,EAAE,MAAMC,KAAK,CAAC,+BAAD,CAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAQE;AAAK,IAAA,SAAS,EAAEpC,MAAM,CAACmC,4BAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,mGADP;AAEE,IAAA,QAAQ,EAAE,KAFZ;AAGE,IAAA,OAAO,EAAE,MAAMC,KAAK,CAAC,6BAAD,CAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CARF,CAvCF,CADF,eAyDE;AAAK,IAAA,SAAS,EAAEpC,MAAM,CAACqC,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kQAzDF,CADF;AAgED,CAxGsB,CAAhB,C,CAyGP","sourcesContent":["import React, { useReducer } from 'react'\n//styles\nimport styles from './styles/profile.module.scss'\n//components\nimport { InputText } from 'templates/Forms/InputText'\n//@ts-ignore\nimport { NativeInputPhone } from 'templates/Forms/InputPhone'\nimport { ButtonBase } from 'templates/Buttons/Buttons'\n\nexport const Profile = React.memo(({}) => {\n  const initialState = { firstName: '', lastName: '', email: '', phone: '' }\n  const reducer = (state: TState, action: IAction): TState => {\n    switch (action.type) {\n      case 'ON_CHANGE':\n        return {\n          ...state,\n          [action.name]: action.value,\n        }\n    }\n  }\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const handleChange = (name: string, value: any) =>\n    dispatch({ type: 'ON_CHANGE', name, value })\n  //utils\n  const beforeMaskedValueChange = (\n    newState: any,\n    oldState: any,\n    userInput: any\n  ) => {\n    let { value } = newState\n    let selection = newState.selection\n    let cursorPosition = selection ? selection.start : null\n    if (\n      (value.endsWith('-') &&\n        userInput !== '-' &&\n        !state.phone.endsWith('-')) ||\n      (value.endsWith(' ') && userInput !== ' ' && !state.phone.endsWith(' '))\n    ) {\n      if (cursorPosition === value.length) {\n        cursorPosition--\n        selection = { start: cursorPosition, end: cursorPosition }\n      }\n      value = value.slice(0, -1)\n    }\n    return {\n      value,\n      selection,\n    }\n  }\n  return (\n    <section className={styles.root}>\n      <div className={styles.root__form}>\n        <InputText\n          type=\"text\"\n          title=\"Фамилия\"\n          placeholder=\"Иванов\"\n          name=\"lastName\"\n          value={state.lastName}\n          onChange={(event) =>\n            handleChange(event.target.name, event.target.value)\n          }\n        />\n        <InputText\n          type=\"text\"\n          title=\"Имя\"\n          placeholder=\"Иван\"\n          name=\"firstName\"\n          value={state.firstName}\n          onChange={(event) =>\n            handleChange(event.target.name, event.target.value)\n          }\n        />\n        <InputText\n          type=\"text\"\n          title=\"Электронная почта\"\n          placeholder=\"ivanov@ya.ru\"\n          name=\"email\"\n          value={state.email}\n          onChange={(event) =>\n            handleChange(event.target.name, event.target.value)\n          }\n        />\n        <NativeInputPhone\n          title=\"Телефон\"\n          placeholder=\"+7 900 000-00-00\"\n          name=\"phone\"\n          value={state.phone}\n          onChange={(event: any) => handleChange('phone', event.target.value)}\n          beforeMaskedValueChange={beforeMaskedValueChange}\n        />\n        <div className={styles.root__form__actions}>\n          <div className={styles.root__form__actions__wrapper}>\n            <ButtonBase\n              text=\"Сохранить профиль\"\n              disabled={true}\n              onClick={() => alert('click disabled profile action')}\n            />\n          </div>\n          <div className={styles.root__form__actions__wrapper}>\n            <ButtonBase\n              text=\"Сохранить профиль\"\n              disabled={false}\n              onClick={() => alert('click active profile action')}\n            />\n          </div>\n        </div>\n      </div>\n      <div className={styles.root__last_seen}>\n        Последний вход был зафиксирован 16.05.2020 12:24 с IP-адреса\n        185.15.171.151\n      </div>\n    </section>\n  )\n})\n//types\ntype TState = {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n}\ntype IAction = { type: 'ON_CHANGE'; name: string; value: any }\n"]},"metadata":{},"sourceType":"module"}